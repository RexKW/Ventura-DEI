import React from 'react'
import { NavLink, useNavigate } from 'react-router-dom'
import gsap from 'gsap'
import { logout } from '../apis/UserCRUD'

function SideNavbar() {
  const navigate = useNavigate()
  const subs = localStorage.getItem('subscription')

  const handleExitAndNavigate = (
    e: React.MouseEvent<HTMLAnchorElement>,
    to: string
  ) => {
    e.preventDefault()
    gsap.to(".slideIn", {
      x: window.innerWidth,
      duration: 0.75,
      ease: "power1.inOut",
      onComplete: () => {
        navigate(to)

      }
    })
  }

  const loggingOut = async (
    e: React.MouseEvent<HTMLAnchorElement>,
    to: string
  ) =>{
    e.preventDefault()
    const token = localStorage.getItem('token');

    if(token){
      localStorage.setItem('username', '');
      localStorage.setItem('token', '');
      console.log(token)
      await logout(token)
      navigate(to)
    }
    
  }



  return (
    <div className='relative z-2'>
        <nav className='bg-[#167DE5] flex flex-col h-[100vh] px-5 justify-center items-center'>
        <ul className='flex flex-col gap-10  justify-center items-center'>
          {
            subs == 'premium' && (
              <li>

            <svg fill="#F5C636" className='w-10 h-10' height="200px" width="200px" version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 240.5"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M41.316,196.312h173.36v30.237H41.316V196.312z M235.842,59.236c-11.133,0-20.158,9.025-20.158,20.158 c0,3.212,0.771,6.237,2.107,8.932l-41.834,20.702l-37.704-63.706c5.92-3.512,9.901-9.949,9.901-17.331 c0-11.133-9.025-20.158-20.158-20.158s-20.158,9.025-20.158,20.158c0,7.382,3.981,13.819,9.901,17.331L80.194,108.76L39.191,88.364 c1.348-2.704,2.125-5.743,2.125-8.97c0-11.133-9.025-20.158-20.158-20.158S1,68.262,1,79.395c0,11.133,9.025,20.158,20.158,20.158 c1.34,0,2.646-0.137,3.913-0.387l15.237,76.987h175.375l16.046-77.023c1.328,0.275,2.702,0.422,4.112,0.422 c11.133,0,20.158-9.025,20.158-20.158C256,68.262,246.975,59.236,235.842,59.236z"></path> </g></svg>
          </li> 
            )

          }
          {
            subs == 'standard' && (
              <li>
                <svg fill="#D9D9D9"  className='w-10 h-10' height="200px" width="200px" version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 240.5" stroke="#D9D9D9"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M41.316,196.312h173.36v30.237H41.316V196.312z M235.842,59.236c-11.133,0-20.158,9.025-20.158,20.158 c0,3.212,0.771,6.237,2.107,8.932l-41.834,20.702l-37.704-63.706c5.92-3.512,9.901-9.949,9.901-17.331 c0-11.133-9.025-20.158-20.158-20.158s-20.158,9.025-20.158,20.158c0,7.382,3.981,13.819,9.901,17.331L80.194,108.76L39.191,88.364 c1.348-2.704,2.125-5.743,2.125-8.97c0-11.133-9.025-20.158-20.158-20.158S1,68.262,1,79.395c0,11.133,9.025,20.158,20.158,20.158 c1.34,0,2.646-0.137,3.913-0.387l15.237,76.987h175.375l16.046-77.023c1.328,0.275,2.702,0.422,4.112,0.422 c11.133,0,20.158-9.025,20.158-20.158C256,68.262,246.975,59.236,235.842,59.236z"></path> </g></svg>
              </li>
            )
          }
          
            <li>
                <NavLink to="/Ventura/itineraries" onClick={e => handleExitAndNavigate(e, "/Ventura/itineraries")}>
                {({ isActive }) => (
                    <div
                    className={`
                      flex items-center justify-center    /* center the SVG */
                      w-[57px] h-[57px]                   /* circle size */
                      rounded-full
                      p-2
                      transition duration-300
                      hover:bg-[#EE4266]
                      ${isActive ? "bg-[#EE4266]" : ""}
                    `}
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 45 40"
                      className="w-full h-full"         /* fill the wrapper */
                      fill="none"
                    >
                      <path
                        d="M0 18.8859C0 19.8575 0.735895 20.6984 1.91333 20.6984C2.48365 20.6984 2.99877 20.3807 3.45871 20.007L5.55601 18.2132V35.5903C5.55601 38.3557 7.19338 40 10.0082 40H34.8998C37.6962 40 39.352 38.3557 39.352 35.5903V18.1198L41.5597 20.007C42.0012 20.3807 42.5163 20.6984 43.0867 20.6984C44.1721 20.6984 45 20.007 45 18.9233C45 18.288 44.7608 17.7835 44.2825 17.3724L39.352 13.1496V5.18977C39.352 4.34894 38.8185 3.82576 37.9906 3.82576H35.4518C34.6423 3.82576 34.0904 4.34894 34.0904 5.18977V8.66519L25.1308 1.02301C23.5303 -0.341002 21.5065 -0.341002 19.906 1.02301L0.735895 17.3724C0.239166 17.7835 0 18.344 0 18.8859ZM27.7984 24.043C27.7984 23.1648 27.2465 22.6042 26.3818 22.6042H18.6549C17.7903 22.6042 17.2199 23.1648 17.2199 24.043V36.2817H10.9832C9.8426 36.2817 9.21709 35.6277 9.21709 34.4505V15.0928L21.7089 4.44237C22.224 3.99393 22.8128 3.99393 23.3279 4.44237L35.6725 14.9807V34.4505C35.6725 35.6277 35.047 36.2817 33.9064 36.2817H27.7984V24.043Z"
                        fill="white"
                      />
                    </svg>
                  </div>
                )}
                    
                </NavLink>
            </li>
            <li>
                <NavLink to="/Ventura/create" onClick={e => handleExitAndNavigate(e, "/Ventura/create")}>
                    {({ isActive }) => (
                        <svg xmlns="http://www.w3.org/2000/svg" width="57" height="57" viewBox="0 0 57 57" fill="none" className={` rounded-[50%] hover:bg-[#EE4266] transition duration-300 p-2 ${isActive ? "bg-[#EE4266]" : ""}`}>
                        <path d="M10.2861 38.8357C10.2861 42.6962 12.3591 44.7167 16.3216 44.7167H35.4553C34.7766 43.6343 34.2996 42.4076 34.0794 41.1268H16.3033C14.7806 41.1268 13.9368 40.351 13.9368 38.7635V22.1667C13.9368 20.5792 14.7806 19.8035 16.3033 19.8035H41.6009C43.1235 19.8035 43.9673 20.5792 43.9673 22.1667V27.0015C44.6094 26.8932 45.2148 26.8391 45.8202 26.8391C46.4256 26.8391 47.0309 26.8932 47.6363 26.9834V16.881C47.6363 13.0205 45.5633 11 41.5825 11H16.3216C12.3591 11 10.2861 13.0024 10.2861 16.881V38.8357ZM19.4402 26.2799H38.5006C39.161 26.2799 39.6563 25.7747 39.6563 25.1073C39.6563 24.4759 39.161 23.9888 38.5006 23.9888H19.4402C18.7615 23.9888 18.2662 24.4759 18.2662 25.1073C18.2662 25.7747 18.7615 26.2799 19.4402 26.2799ZM19.4402 31.6017H36.1891C36.8312 30.7357 37.565 29.9781 38.4272 29.3106H19.4402C18.7615 29.3106 18.2662 29.8337 18.2662 30.4832C18.2662 31.1146 18.7615 31.6017 19.4402 31.6017ZM45.8202 48C50.9567 48 55.2861 43.7786 55.2861 38.6914C55.2861 33.6041 51.0118 29.4008 45.8202 29.4008C40.6469 29.4008 36.3726 33.6041 36.3726 38.6914C36.3726 43.7967 40.6469 48 45.8202 48ZM39.8214 38.6914C39.8214 37.9517 40.3351 37.4647 41.0872 37.4647H44.5544V34.0551C44.5544 33.3155 45.068 32.8103 45.8202 32.8103C46.5907 32.8103 47.086 33.3155 47.086 34.0551V37.4647H50.5532C51.3053 37.4647 51.819 37.9517 51.819 38.6914C51.819 39.449 51.3053 39.9361 50.5532 39.9361H47.086V43.3637C47.086 44.1034 46.5907 44.5904 45.8202 44.5904C45.068 44.5904 44.5544 44.1034 44.5544 43.3637V39.9361H41.0872C40.3351 39.9361 39.8397 39.449 39.8214 38.6914ZM19.4402 36.9235H31.4745C32.1349 36.9235 32.6302 36.4364 32.6302 35.805C32.6302 35.1555 32.1349 34.6504 31.4745 34.6504H19.4402C18.7615 34.6504 18.2662 35.1555 18.2662 35.805C18.2662 36.4364 18.7615 36.9235 19.4402 36.9235Z" fill="white"/>
                    </svg>
                    )}
                    
                </NavLink>
            </li>
            {/* <li>
                <NavLink to="">
                {({ isActive }) => (
                    <svg xmlns="http://www.w3.org/2000/svg" width="57" height="57" viewBox="0 0 57 57" fill="none" className={` rounded-[50%] hover:bg-[#EE4266] transition duration-300 p-2 ${isActive ? "bg-[#EE4266]" : ""}`}>
                        <path d="M18.037 43.9152H28.5556C27.4444 42.9778 26.5741 41.8189 26.0556 40.5236H18.3704C16.5926 40.5236 15.7037 39.6885 15.7037 38.1206V12.8287C15.7037 11.2778 16.5926 10.3916 18.3704 10.3916H37.463C39.1852 10.3916 40.1296 11.2608 40.1296 12.8287V27.5539C41.537 28.0311 42.7963 28.8321 43.8148 29.8547V12.6072C43.8148 8.90882 41.7593 7 37.7778 7H18.037C14.0741 7 12 8.92586 12 12.6072V38.3081C12 42.0064 14.0741 43.9152 18.037 43.9152ZM21.1667 17.3281H34.6852C35.3519 17.3281 35.8519 16.8509 35.8519 16.2373C35.8519 15.6408 35.3519 15.1636 34.6852 15.1636H21.1667C20.4815 15.1636 19.9815 15.6408 19.9815 16.2373C19.9815 16.8509 20.4815 17.3281 21.1667 17.3281ZM21.1667 23.1398H34.6852C35.3519 23.1398 35.8519 22.6625 35.8519 22.049C35.8519 21.4525 35.3519 20.9753 34.6852 20.9753H21.1667C20.4815 20.9753 19.9815 21.4525 19.9815 22.049C19.9815 22.6625 20.4815 23.1398 21.1667 23.1398ZM35.6852 43.9152C37.2593 43.9152 38.7222 43.5062 39.963 42.8074L43.9074 46.4376C44.3519 46.8466 44.7963 47 45.3333 47C46.2778 47 47 46.3183 47 45.3809C47 44.9719 46.7963 44.5458 46.4444 44.222L42.4815 40.5577C43.3333 39.3818 43.8333 37.9501 43.8333 36.4333C43.8333 32.2919 40.1852 28.9344 35.6852 28.9344C31.2037 28.9344 27.537 32.3089 27.537 36.4333C27.537 40.5577 31.2037 43.9152 35.6852 43.9152ZM35.6852 41.3247C32.7407 41.3247 30.3519 39.1261 30.3519 36.4333C30.3519 33.7576 32.7407 31.542 35.6852 31.542C38.5926 31.542 40.9815 33.7576 40.9815 36.4333C40.9815 39.1261 38.6111 41.3247 35.6852 41.3247Z" fill="white"/>
                    </svg>
                )}
                </NavLink>
            </li> */}
            <li >
                <NavLink to="/Ventura/account" onClick={e => handleExitAndNavigate(e, "/Ventura/account")}>
                {({ isActive }) => (
                    <div
                    className={`
                      flex items-center justify-center    /* center the SVG */
                      w-[57px] h-[57px]                   /* circle size */
                      rounded-full
                      p-2
                      transition duration-300
                      hover:bg-[#EE4266]
                      ${isActive ? "bg-[#EE4266]" : ""}
                    `}
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="11 11 45 45"
                      preserveAspectRatio="xMidYMid meet"
                      className="w-[85%] h-[85%]"
                      fill="none"
                    >
                      <path
                        d="M33.8719 56C46.204 56 56.3828 45.8162 56.3828 33.5C56.3828 21.1838 46.1822 11 33.8502 11C21.5399 11 11.3828 21.1838 11.3828 33.5C11.3828 45.8162 21.5616 56 33.8719 56ZM33.8719 41.029C27.7385 41.029 22.9754 43.2268 20.6699 45.751C17.712 42.5522 15.9067 38.2437 15.9067 33.5C15.9067 23.5121 23.8889 15.5044 33.8502 15.5044C43.8333 15.5044 51.8589 23.5121 51.8806 33.5C51.8806 38.2437 50.0754 42.5522 47.0957 45.7727C44.7903 43.2268 40.0271 41.029 33.8719 41.029ZM33.8719 37.4603C38.0914 37.5039 41.3756 33.8917 41.3756 29.235C41.3756 24.8395 38.0696 21.162 33.8719 21.162C29.696 21.162 26.3683 24.8395 26.3901 29.235C26.4118 33.8917 29.6743 37.4386 33.8719 37.4603Z"
                        fill="white"
                      />
                    </svg>
                  </div>
                )}
                </NavLink>
                
            </li>
            <li >
                <NavLink to="/Ventura/login" onClick={e =>loggingOut(e, "/Ventura/login")}>
                {({ isActive }) => (
                    <div
                    className={`
                      flex items-center justify-center    /* center the SVG */
                      w-[57px] h-[57px]                   /* circle size */
                      rounded-full
                      p-2
                      transition duration-300
                      hover:bg-[#EE4266]
                      ${isActive ? "bg-[#EE4266]" : ""}
                    `}
                  >
                    <svg fill="#ffffff"  version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 380.002 350.002" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="XMLID_6_"> <path id="XMLID_7_" d="M51.213,175.001h173.785c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15H51.213l19.394-19.394 c5.858-5.858,5.858-15.355,0-21.213c-5.857-5.858-15.355-5.858-21.213,0L4.396,149.393c-0.351,0.351-0.683,0.719-0.997,1.103 c-0.137,0.167-0.256,0.344-0.385,0.515c-0.165,0.22-0.335,0.435-0.488,0.664c-0.14,0.209-0.261,0.426-0.389,0.64 c-0.123,0.206-0.252,0.407-0.365,0.619c-0.118,0.22-0.217,0.446-0.323,0.67c-0.104,0.219-0.213,0.435-0.306,0.659 c-0.09,0.219-0.164,0.442-0.243,0.664c-0.087,0.24-0.179,0.477-0.253,0.722c-0.067,0.222-0.116,0.447-0.172,0.672 c-0.063,0.249-0.133,0.497-0.183,0.751c-0.051,0.259-0.082,0.521-0.119,0.782c-0.032,0.223-0.075,0.443-0.097,0.669 c-0.048,0.484-0.073,0.971-0.074,1.457c0,0.007-0.001,0.015-0.001,0.022c0,0.007,0.001,0.015,0.001,0.022 c0.001,0.487,0.026,0.973,0.074,1.458c0.022,0.223,0.064,0.44,0.095,0.661c0.038,0.264,0.069,0.528,0.121,0.79 c0.05,0.252,0.119,0.496,0.182,0.743c0.057,0.227,0.107,0.456,0.175,0.681c0.073,0.241,0.164,0.474,0.248,0.71 c0.081,0.226,0.155,0.453,0.247,0.675c0.091,0.22,0.198,0.431,0.3,0.646c0.108,0.229,0.21,0.46,0.33,0.685 c0.11,0.205,0.235,0.4,0.354,0.599c0.131,0.221,0.256,0.444,0.4,0.659c0.146,0.219,0.309,0.424,0.466,0.635 c0.136,0.181,0.262,0.368,0.407,0.544c0.299,0.364,0.616,0.713,0.947,1.048c0.016,0.016,0.029,0.034,0.045,0.05l45,45.001 c2.93,2.929,6.768,4.394,10.607,4.394c3.838-0.001,7.678-1.465,10.606-4.393c5.858-5.858,5.858-15.355,0.001-21.213L51.213,175.001 z"></path> <path id="XMLID_8_" d="M305.002,25h-190c-8.284,0-15,6.716-15,15v60c0,8.284,6.716,15,15,15s15-6.716,15-15V55h160v210.001h-160 v-45.001c0-8.284-6.716-15-15-15s-15,6.716-15,15v60.001c0,8.284,6.716,15,15,15h190c8.284,0,15-6.716,15-15V40 C320.002,31.716,313.286,25,305.002,25z"></path> </g> </g></svg>
                  </div>
                )}
                </NavLink>
                
            </li>
        </ul>
        </nav>
    </div>
  )
}

export default SideNavbar
